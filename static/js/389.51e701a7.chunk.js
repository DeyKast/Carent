"use strict";(self.webpackChunkCarent=self.webpackChunkCarent||[]).push([[389],{2758:function(t,e,n){n.d(e,{Z:function(){return u}});n(2791);var r=n.p+"static/media/sprite.2b9a2ecb64735079720d8c8f5f4be26c.svg",i="categoriesList_categories__muROn",o="categoriesList_category-button__HYVYN",s="categoriesList_active__gAi+e",a="categoriesList_category-icon__ezXdf",c=n(184),u=function(t){var e=t.categories,n=t.activeCategory,u=t.onCategoryClick;return(0,c.jsx)("div",{className:i,children:e.map((function(t){return(0,c.jsxs)("button",{className:"".concat(o," ").concat(t.id===(null===n||void 0===n?void 0:n.id)?s:""),onClick:function(){return u(t)},children:[(0,c.jsx)("svg",{className:a,children:(0,c.jsx)("use",{xlinkHref:"".concat(r,"#icon-").concat(t.name.toLowerCase())})}),t.name]},t.id)}))})}},3072:function(t,e,n){n.r(e),n.d(e,{default:function(){return x}});var r=n(3433),i=n(4942),o=n(1413),s=n(5861),a=n(9439),c=n(7757),u=n.n(c),l=n(9705),d=n(5986),p={section:"adminPositions_section__09GRE",container:"adminPositions_container__4Aod7",editorWrapper:"adminPositions_editorWrapper__Fek6L",editorListWrapper:"adminPositions_editorListWrapper__sFdFd",editorList:"adminPositions_editorList__m1Ybg",editorListItem:"adminPositions_editorListItem__ZzwSu",active:"adminPositions_active__6-UXm",editorListItemButton:"adminPositions_editorListItemButton__jeinf",newCarButton:"adminPositions_newCarButton__cuNPb",carItem:"adminPositions_carItem__tNNzS",carButton:"adminPositions_carButton__E1SnL",editorForm:"adminPositions_editorForm__1yD61",formTitle:"adminPositions_formTitle__1zBZq",formGroup:"adminPositions_formGroup__1W3Up",formLabel:"adminPositions_formLabel__k-WH7",formInput:"adminPositions_formInput__qZcaV",buttonGroup:"adminPositions_buttonGroup__EKgSO",saveButton:"adminPositions_saveButton__SBEI8",deleteButton:"adminPositions_deleteButton__h+3+l",photosWrapper:"adminPositions_photosWrapper__XpdWa",addPhotoWrapper:"adminPositions_addPhotoWrapper__yFrl3",newPhotoInput:"adminPositions_newPhotoInput__XqXOD",swiper:"adminPositions_swiper__yxmCx",deletePhotoButton:"adminPositions_deletePhotoButton__MnbNc"},m=(n(6497),n(6593),n(7395)),f=n(2758),h=n(2791),_=n(604),v=n(184),x=function(){var t=(0,h.useState)([]),e=(0,a.Z)(t,2),n=e[0],c=e[1],x=(0,h.useState)(null),g=(0,a.Z)(x,2),b=g[0],j=g[1],y=(0,h.useState)([]),P=(0,a.Z)(y,2),C=P[0],N=P[1],Z=(0,h.useState)(null),k=(0,a.Z)(Z,2),w=k[0],L=k[1],W=(0,h.useState)(null),B=(0,a.Z)(W,2),I=B[0],S=B[1],E=(0,h.useState)(""),D=(0,a.Z)(E,2),A=D[0],F=D[1],G=(0,h.useState)(""),z=(0,a.Z)(G,2),R=z[0],X=z[1],q=(0,h.useState)(!1),O=(0,a.Z)(q,2),T=O[0],H=O[1];(0,h.useEffect)((function(){var t=function(){var t=(0,s.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,m.t)();case 3:e=t.sent,c(e),e.length>0&&j(e[0]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching categories:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),(0,h.useEffect)((function(){if(b){var t=function(){var t=(0,s.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,_.L)(b.id);case 3:e=t.sent,N(e),e.length>0&&e[0].cars.length>0&&(L(e[0].cars[0].id),S((0,o.Z)({},e[0].cars[0]))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching cars:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}}),[b]);var M=function(t){var e=t.target,n=e.name,r=e.value;S((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,i.Z)({},n,r))}))};return(0,v.jsxs)("div",{className:p.section,children:[(0,v.jsxs)("div",{className:p.container,children:[(0,v.jsx)("h1",{style:{marginBottom:"20px"},children:"Positions"}),(0,v.jsx)(f.Z,{categories:n,activeCategory:b,onCategoryClick:function(t){j(t)}}),(0,v.jsxs)("div",{className:p.editorWrapper,children:[(0,v.jsxs)("div",{className:p.editorListWrapper,children:[(0,v.jsx)("ul",{className:p.editorList,children:C.length>0&&C[0].cars.length>0?C[0].cars.map((function(t){return(0,v.jsx)("li",{className:"".concat(p.editorListItem," ").concat(t.id===w?p.active:""),children:(0,v.jsxs)("button",{className:p.editorListItemButton,onClick:function(){return function(t){L(t);var e=C[0].cars.find((function(e){return e.id===t}));S((0,o.Z)({},e))}(t.id)},children:[(0,v.jsx)("p",{children:t.brand}),(0,v.jsx)("p",{children:t.model})]})},t.id)})):(0,v.jsx)("p",{children:"No cars available"})}),(0,v.jsx)("button",{className:p.newCarButton,children:(0,v.jsx)("p",{children:"Add new car"})})]}),I&&(0,v.jsxs)("div",{className:p.editorForm,children:[(0,v.jsx)("h2",{className:p.formTitle,children:"Edit Car"}),(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:p.photosWrapper,children:[(0,v.jsx)("div",{className:p.photoList,children:(0,v.jsx)(l.tq,{pagination:{type:"fraction"},navigation:!0,modules:[d.tl,d.W_],className:p.swiper,children:I.photos.map((function(t,e){return(0,v.jsxs)(l.o5,{children:[(0,v.jsx)("img",{src:t,alt:"Car ".concat(e),className:p.photoPreview}),(0,v.jsx)("button",{onClick:function(){return function(t){S((function(e){return(0,o.Z)((0,o.Z)({},e),{},{photos:e.photos.filter((function(e,n){return n!==t}))})}))}(e)},className:p.deletePhotoButton,children:"Delete photo"})]},e)}))})}),(0,v.jsxs)("div",{className:p.addPhotoWrapper,children:[(0,v.jsx)("p",{children:"Enter direct link from IMGbb for add new photo"}),(0,v.jsx)("input",{type:"text",value:A,className:"newPhotoInput",onChange:function(t){var e=t.target.value;F(e),e.startsWith("https://i.ibb.co")?X(""):X("\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u043f\u043e\u0447\u0438\u043d\u0430\u0442\u0438\u0441\u044f \u0437 https://i.ibb.co")}}),R&&(0,v.jsx)("p",{style:{color:"red"},children:R}),(0,v.jsx)("button",{onClick:function(){""!==A.trim()&&(S((function(t){return(0,o.Z)((0,o.Z)({},t),{},{photos:[].concat((0,r.Z)(t.photos),[A])})})),F(""))},children:"Add Photo"})]})]})}),(0,v.jsx)("div",{className:p.formGroup,children:Object.keys(I).map((function(t){if("body_type"===t||"drive_type"===t||"fuel_type"===t||"transmission_type"===t){return(0,v.jsxs)("label",{className:p.formLabel,children:[t.replace(/_/g," "),":",(0,v.jsx)("select",{name:t,value:I[t],onChange:M,className:p.formInput,children:{body_type:["Coupe","Convertible","Sedan","Station Wagon","SUV","Pickup Truck"],drive_type:["AWD","FWD","RWD"],fuel_type:["Petrol","Diesel","Electric"],transmission_type:["Automatic","Manual"]}[t].map((function(t){return(0,v.jsx)("option",{value:t,children:t},t)}))})]},t)}return"id"!==t&&"photos"!==t?(0,v.jsxs)("label",{className:p.formLabel,children:[t.replace(/_/g," "),":",(0,v.jsx)("input",{type:"text",name:t,value:I[t],onChange:M,className:p.formInput})]},t):null}))}),(0,v.jsxs)("div",{className:p.buttonGroup,children:[(0,v.jsx)("button",{onClick:function(){var t=n.map((function(t){return t.id===b.id?(0,o.Z)((0,o.Z)({},t),{},{cars:t.cars.map((function(t){return t.id===I.id?(0,o.Z)({},I):t}))}):t}));c(t)},className:p.saveButton,children:"Save"}),(0,v.jsx)("button",{className:p.deleteButton,onClick:function(){return H(!0)},children:"Delete Car"})]})]})]})]}),T&&(0,v.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"9999999999"},children:(0,v.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[(0,v.jsx)("h3",{children:"Confirm Deletion"}),(0,v.jsx)("p",{children:"Are you sure you want to delete this car?"}),(0,v.jsx)("button",{onClick:function(){return H(!1)},style:{marginRight:"10px"},children:"Cancel"}),(0,v.jsx)("button",{onClick:function(){N((function(t){return t.map((function(t){return t.id===b.id?(0,o.Z)((0,o.Z)({},t),{},{cars:t.cars.filter((function(t){return t.id!==w}))}):t}))})),S(null),L(null),H(!1)},style:{background:"red",color:"white"},children:"Delete"})]})})]})}},604:function(t,e,n){n.d(e,{L:function(){return a}});var r=n(5861),i=n(7757),o=n.n(i),s=n(3016),a=function(){var t=(0,r.Z)(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.get("https://64fee767f8b9eeca9e294103.mockapi.io/api/cars/?categoryId=".concat(e));case 3:return n=t.sent,console.log(n),t.abrupt("return",n.data);case 8:throw t.prev=8,t.t0=t.catch(0),console.error("Error fetching cars from ".concat(e," category:"),t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},7395:function(t,e,n){n.d(e,{t:function(){return a}});var r=n(5861),i=n(7757),o=n.n(i),s=n(3016),a=function(){var t=(0,r.Z)(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.get("https://64fee767f8b9eeca9e294103.mockapi.io/api/categories");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),console.error("Error fetching categories:",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=389.51e701a7.chunk.js.map